<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Examen Vocacional de Medicina - Todo en Uno</title>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        /* Estilos M√©dico Profesional Serio y Llamativo */

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: #EBF2F8; /* Azul muy claro, casi blanco */
            color: #333;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }

        /* ------------------- ENCABEZADO Y NAVEGACI√ìN ------------------- */

        .header {
            background-color: #004D80; /* Azul Marino Profundo (Serio) */
            color: white;
            padding: 25px 0;
            text-align: center;
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        h1 {
            font-size: 2.2em;
            margin: 0 0 10px 0;
        }

        /* Botones de Navegaci√≥n */
        .nav-button {
            display: inline-block;
            padding: 8px 16px;
            margin: 3px;
            background-color: #00B29E; /* Verde Quir√∫rgico (Llamativo pero Serio) */
            color: #004D80; /* Texto en Azul Marino */
            text-decoration: none;
            border-radius: 4px;
            font-weight: 700;
            transition: background-color 0.3s, transform 0.2s;
            font-size: 0.9em;
            border: 2px solid #00B29E;
        }

        .nav-button:hover {
            background-color: #008C78;
            transform: translateY(-2px);
            color: white;
        }

        .container {
            max-width: 1000px;
            margin: 30px auto;
            padding: 20px;
        }

        /* ------------------- SECCIONES Y FORMATO ------------------- */

        .section {
            padding: 40px;
            margin-bottom: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            scroll-margin-top: 120px;
        }

        /* Colores de Fondo llamativos pero cl√≠nicos */
        .bienvenida-bg { 
            background-color: #FFFFFF; 
            border-left: 8px solid #004D80; 
            box-shadow: 0 0 20px rgba(0, 77, 128, 0.1);
        }
        .cuestionario-bg { 
            background-color: #FFFFFF; 
            border-top: 4px solid #E4E7EB; 
        }
        .resultado-bg { 
            background-color: #F0FCF9;
            border-left: 8px solid #00B29E; 
        }

        .tema-principal {
            color: #004D80; /* Azul Marino */
            border-bottom: 3px solid #FFC300; /* L√≠nea de acento Dorado/Amarillo Mostaza */
            padding-bottom: 10px;
            margin-bottom: 30px;
            font-weight: 700;
            text-transform: uppercase;
        }

        .frase-medicina {
            font-style: italic;
            color: #555;
            border-left: 4px solid #00B29E;
            padding-left: 15px;
        }

        /* ------------------- FORMULARIOS Y PREGUNTAS ------------------- */

        input[type="text"], select, input[type="number"], textarea {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: 1px solid #ccc;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 1.05em;
            transition: border-color 0.3s, box-shadow 0.3s;
        }

        input[type="text"]:focus, select:focus, textarea:focus {
            border-color: #004D80;
            box-shadow: 0 0 5px rgba(0, 77, 128, 0.5);
            outline: none;
        }

        .pregunta-box {
            border: 1px solid #E4E7EB;
            padding: 20px;
            margin-bottom: 25px;
            border-radius: 10px;
            background-color: #F8FBFD;
        }

        legend {
            font-weight: bold;
            color: #004D80;
            margin-bottom: 15px;
            font-size: 1.1em;
        }

        /* ------------------- BOT√ìN FINALIZAR ------------------- */

        .boton-finalizar {
            background-color: #FF5733; /* Rojo Terciario (llamativo y de acci√≥n) */
            color: white;
            padding: 18px 35px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.3em;
            font-weight: bold;
            margin-top: 30px;
            width: 100%;
            transition: background-color 0.3s, transform 0.2s;
        }

        .boton-finalizar:hover {
            background-color: #E54B2D;
            transform: scale(1.01);
        }

        /* ------------------- ESTILOS DE IMAGEN (ADAPTABLE) ------------------- */

        .imagen-container {
            text-align: center; 
            margin: 30px 0 10px 0;
            padding: 25px;
            background-color: #F0F9FF;
            border-radius: 10px;
            border: 1px dashed #A3C1D4;
        }

        .img-formulario {
            max-width: 45%;
            height: auto;
            display: block;
            margin: 0 auto;
            border-radius: 8px; 
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); 
            transition: transform 0.4s ease-in-out;
        }

        .img-formulario:hover {
            transform: scale(1.02);
        }

        @media (max-width: 600px) {
            .img-formulario {
                max-width: 70%; 
            }
        }

        /* ------------------- RESULTADOS Y PUNTUACI√ìN ------------------- */

        .score-box {
            background-color: #FFFFFF;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            margin: 25px 0;
            border: 3px solid #FFC300;
        }

        .score-value {
            font-size: 4em;
            font-weight: 700;
            color: #004D80;
            display: block;
            line-height: 1.1;
        }

        .motivacion {
            padding: 20px;
            border-radius: 10px;
            margin-top: 25px;
            font-size: 1.1em;
            font-weight: 600;
        }

        /* C√≥digos de colores serios y llamativos para los mensajes */
        .motivacion.alto { background-color: #D6F1EE; color: #008C78; border: 1px solid #00B29E; }
        .motivacion.medio { background-color: #FFF8E1; color: #CC9900; border: 1px solid #FFC300; }
        .motivacion.bajo { background-color: #FDE8E8; color: #CC0000; border: 1px solid #FF5733; }
    </style>
    </head>
<body>

    <header class="header">
        <h1>Tu Viaje a la Medicina üß¨</h1>
        
        {% if not mostrar_resultado %}
        <nav id="nav-secciones">
            <a href="#inicio" class="nav-button">Inicio</a>
            <a href="#vocacion" class="nav-button">Vocaci√≥n</a>
            <a href="#valores" class="nav-button">√âtica</a>
            <a href="#rasgos" class="nav-button">Rasgos</a>
            <a href="#hipoteticas" class="nav-button">Hipot√©ticas</a>
            <a href="#proyecto" class="nav-button">Proyecto</a>
        </nav>
        {% endif %}
    </header>

    <main class="container">

        {% if mostrar_resultado %}
        
            <section id="resultado" class="section resultado-bg">
                <h2 class="tema-principal">¬°Tu Vocaci√≥n ha sido Evaluada! üéâ</h2>
                <div id="mensaje-resultado">
                    <h3>Felicidades, **{{ prefijo }} {{ nombre }}**</h3>
                    <p class="frase-medicina">
                        Has demostrado compromiso con tu futura carrera de **{{ carrera }}**.
                    </p>
                    
                    <div class="score-box">
                        <p>Puntuaci√≥n Total Obtenida:</p>
                        <span class="score-value">{{ score }} / {{ max_score }}</span>
                    </div>
                    
                    {% set porcentaje = (score / max_score) %}
                    
                    {% if porcentaje >= 0.8 %}
                        <p class="motivacion alto">**¬°Excelente Aptitud!** Tu vocaci√≥n y valores son sobresalientes. Est√°s listo/a para el desaf√≠o. El campo de la salud te espera.</p>
                    {% elif porcentaje >= 0.5 %}
                        <p class="motivacion medio">**Base S√≥lida.** Tienes buen potencial. Recuerda fortalecer tu conocimiento √©tico y tu resiliencia. ¬°Sigue adelante!</p>
                    {% else %}
                        <p class="motivacion bajo">**√Åreas de Oportunidad.** La Medicina exige profunda √©tica y compromiso. Te recomendamos reflexionar si esta es tu verdadera vocaci√≥n. ¬°No te rindas, pero eval√∫a tu motivaci√≥n a fondo!</p>
                    {% endif %}
                </div>
                <a href="{{ url_for('home') }}" class="nav-button">Volver al Inicio y Repetir Evaluaci√≥n</a>
            </section>

        {% else %}
            
            <form method="POST" action="/">
                
                <section id="inicio" class="section bienvenida-bg">
                    <h2>¬°Bienvenido/a, Futuro Sanador! üåü</h2>
                    <p class="frase-medicina">"La verdadera prueba de un m√©dico no es su conocimiento, sino la **empat√≠a** con la que lo aplica."</p>
                    
                    <div id="login-form">
                        <p>Comienza tu evaluaci√≥n de aptitud vocacional:</p>
                        <input type="text" name="nombre_usuario" placeholder="Tu Nombre Completo" required>
                        <select name="carrera_deseada" required>
                            <option value="">Selecciona la Rama de Medicina Deseada</option>
                            <option value="M√©dico Cirujano">M√©dico Cirujano General</option>
                            <option value="Enfermer√≠a">Enfermer√≠a Cl√≠nica</option>
                            <option value="Odontolog√≠a">Odontolog√≠a Preventiva</option>
                            <option value="Investigaci√≥n Biom√©dica">Investigaci√≥n Biom√©dica</option>
                        </select>
                    </div>
                    <p class="guia">Completa todas las secciones. Puedes usar los botones de navegaci√≥n para guiarte. üëá</p>
                    
                    <div class="imagen-container">
                        <img src="{{ url_for('static', filename='assets/ilustracion_medica.png') }}" alt="Ilustraci√≥n de Vocaci√≥n M√©dica" class="img-formulario">
                    </div>
                </section>

                <section id="vocacion" class="section cuestionario-bg">
                    <h2 class="tema-principal">1. Vocaci√≥n y Motivaci√≥n</h2>
                    
                    <fieldset class="pregunta-box">
                        <legend>P1. ¬øQu√© te atrae m√°s de la Medicina?</legend>
                        <label><input type="radio" name="q1" value="a" required> (a) El estatus y reconocimiento.</label>
                        <label><input type="radio" name="q1" value="b"> (b) La complejidad cient√≠fica y la investigaci√≥n.</label>
                        <label><input type="radio" name="q1" value="c"> (c) La oportunidad de aliviar el sufrimiento humano y servir a la comunidad.</label>
                    </fieldset>
                    
                    <fieldset class="pregunta-box">
                        <legend>P2. Un paciente grave fallece tras tu mejor esfuerzo. ¬øC√≥mo reaccionas?</legend>
                        <label><input type="radio" name="q2" value="a" required> (a) Siento frustraci√≥n intensa y dudo de mi capacidad.</label>
                        <label><input type="radio" name="q2" value="b"> (b) Reflexiono sobre el caso, proceso la p√©rdida y sigo adelante aprendiendo.</label>
                        <label><input type="radio" name="q2" value="c"> (c) Lo olvido r√°pidamente para evitar el desgaste emocional.</label>
                    </fieldset>
                    
                    <fieldset class="pregunta-box">
                        <legend>P3. En una escala del 1 (Nada) al 5 (Totalmente), ¬øcu√°n dispuesto est√°s a sacrificar fines de semana y horas de sue√±o por esta carrera?</legend>
                        <input type="number" name="q3" min="1" max="5" required>
                    </fieldset>
                    
                    <fieldset class="pregunta-box">
                        <legend>P4. ¬øCon qu√© prefieres lidiar principalmente en tu d√≠a a d√≠a?</legend>
                        <label><input type="radio" name="q4" value="a" required> (a) Investigar solo en un laboratorio.</label>
                        <label><input type="radio" name="q4" value="b"> (b) Interactuar y colaborar activamente con un equipo multidisciplinario.</label>
                    </fieldset>
                    
                    <fieldset class="pregunta-box">
                        <legend>P5. Si cometes un error grave, ¬øest√°s dispuesto a reconocerlo, asumirlo y aprender de √©l?</legend>
                        <label><input type="radio" name="q5" value="Si" required> S√≠, la honestidad es lo primero.</label>
                        <label><input type="radio" name="q5" value="No"> No, intentar√≠a ocultarlo para proteger mi carrera.</label>
                    </fieldset>
                    
                    <fieldset class="pregunta-box">
                        <legend>P6. ¬øTe sientes c√≥modo/a trabajando en situaciones de alta presi√≥n, trauma y con fluidos corporales?</legend>
                        <label><input type="radio" name="q6" value="Si" required> S√≠, lo considero parte esencial del trabajo.</label>
                        <label><input type="radio" name="q6" value="No"> No, prefiero un entorno de oficina o laboratorio.</label>
                    </fieldset>
                </section>

                <section id="valores" class="section cuestionario-bg">
                    <h2 class="tema-principal">2. Valores y √âtica</h2>
                    
                    <fieldset class="pregunta-box">
                        <legend>P1. Un paciente terminal rechaza un tratamiento vital por motivos personales. ¬øQu√© har√≠as?</legend>
                        <label><input type="radio" name="q_val_1" value="a" required> (a) Insistir y convencerlo con argumentos cient√≠ficos, sin ceder.</label>
                        <label><input type="radio" name="q_val_1" value="b"> (b) Respetar su autonom√≠a, asegurando que su decisi√≥n sea informada y ofreciendo soporte paliativo.</label>
                        <label><input type="radio" name="q_val_1" value="c"> (c) Pedir a su familia que intervenga y lo obligue.</label>
                    </fieldset>
                    
                    <fieldset class="pregunta-box">
                        <legend>P2. Ves a un colega cometer un error que puede ser encubierto. ¬øC√≥mo act√∫as?</legend>
                        <label><input type="radio" name="q_val_2" value="a" required> (a) Lo cubro; la lealtad al colega es primero.</label>
                        <label><input type="radio" name="q_val_2" value="b"> (b) Lo denuncio an√≥nimamente a la direcci√≥n.</label>
                        <label><input type="radio" name="q_val_2" value="c"> (c) Abordo al colega en privado para que corrija su error o lo reporte de manera apropiada.</label>
                    </fieldset>
                    
                    <fieldset class="pregunta-box">
                        <legend>P3. ¬øQu√© valor consideras el m√°s crucial en la relaci√≥n m√©dico-paciente?</legend>
                        <label><input type="radio" name="q_val_3" value="a" required> (a) Competencia t√©cnica.</label>
                        <label><input type="radio" name="q_val_3" value="b"> (b) Secreto profesional.</label>
                        <label><input type="radio" name="q_val_3" value="c"> (c) Empat√≠a y respeto mutuo.</label>
                    </fieldset>
                </section>
                
                <section id="rasgos" class="section cuestionario-bg">
                    <h2 class="tema-principal">3. Rasgos Personales</h2>
                    
                    <fieldset class="pregunta-box">
                        <legend>P1. Tu nivel de organizaci√≥n para el estudio y el manejo de m√∫ltiples tareas es (1-Ca√≥tico, 5-Met√≥dico y excelente):</legend>
                        <input type="number" name="rasgo_org" min="1" max="5" required>
                    </fieldset>
                    
                    <fieldset class="pregunta-box">
                        <legend>P2. ¬øC√≥mo manejas las cr√≠ticas o la retroalimentaci√≥n negativa sobre tu desempe√±o?</legend>
                        <label><input type="radio" name="rasgo_critica" value="a" required> (a) Me desmotiva o me pongo a la defensiva.</label>
                        <label><input type="radio" name="rasgo_critica" value="b"> (b) Lo tomo como una oportunidad de mejora inmediata.</label>
                    </fieldset>
                </section>

                <section id="hipoteticas" class="section cuestionario-bg">
                    <h2 class="tema-principal">4. Situaciones Hipot√©ticas</h2>
                    
                    <fieldset class="pregunta-box">
                        <legend>P1. Est√°s solo/a en Triage (urgencias). Llegan tres pacientes simult√°neamente: A) Ni√±o con fractura simple. B) Anciano con dolor de pecho severo. C) Persona con herida menor en la cabeza. ¬øA qui√©n atiendes primero (Triage)?</legend>
                        <select name="hipo_triage" required>
                            <option value="">Selecciona tu prioridad</option>
                            <option value="A">A) Ni√±o con fractura simple.</option>
                            <option value="B">B) Anciano con dolor de pecho severo (posible infarto).</option>
                            <option value="C">C) Persona con herida menor en la cabeza.</option>
                        </select>
                    </fieldset>
                </section>

                <section id="proyecto" class="section cuestionario-bg">
                    <h2 class="tema-principal">5. Proyecto de Vida</h2>
                    <p>Describe en detalle d√≥nde te ves profesionalmente dentro de 10 a√±os y c√≥mo planeas equilibrar tu vida personal con la demanda de la carrera m√©dica. (Se recomienda una respuesta de **m√≠nimo 30 palabras**).</p>
                    <textarea name="proyecto_vida" rows="8" placeholder="Escribe aqu√≠ tu proyecto de vida (visi√≥n, valores, equilibrio)..." required></textarea>
                    
                    <button type="submit" class="boton-finalizar">Finalizar Examen y Ver Puntuaci√≥n</button>
                </section>
            </form>
        
        {% endif %}

    </main>
    
    <footer>
        <p>¬© 2025 Vocaci√≥n al Servicio | Desarrollo con Flask y amor por la Medicina.</p>
    </footer>
</body>
</html>